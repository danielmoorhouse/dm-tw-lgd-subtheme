{#
/**
 * @file
 * Theme override to display a region with Tailwind CSS.
 *
 * Available variables:
 * - content: The content for this region, typically blocks.
 * - attributes: HTML attributes for the region <div>.
 * - region: The name of the region variable as defined in the theme's
 *   .info.yml file.
 *
 * @see template_preprocess_region()
 */
#}

{% set footer_attributes = create_attribute() %}

{%
  set footer_classes = [
    'region-microsites-footer',
    microsites.footer.width.content_centered ? 'container mx-auto' : '',
  ]
%}

{%
  set footer_banner_classes = [
    'microsite-footer__banner',
    microsites.footer.width.content_centered ? 'container mx-auto' : '',
    microsites.footer.width.full_width_content_contained ? 'container mx-auto px-4' : '',
  ]
%}

{{ attach_library('localgov_microsites_base/footer') }}

{% if microsites.footer.items.lgms_footer_banner %}
  <div {{ attributes.addClass(footer_banner_classes) }}>
    {{ microsites.footer.items.lgms_footer_banner }}
  </div>
{% endif %}

<div {{ footer_attributes.addClass(footer_classes) }}>

{% if microsites.footer.width.full_width_content_contained %}
  <div class="container mx-auto px-4">
{% endif %}
  <div class="region__inner region__inner--{{ region|clean_class }}">

{% if microsites.footer.items.lgms_footer_text_block_1 or microsites.footer.items.lgms_footer_text_block_2 or microsites.footer.items.lgms_footer_text_block_3 or microsites.footer.items.lgms_footer_text_block_4 %}
  <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
    {# Begin Footer text blocks #}
    {% if microsites.footer.items.lgms_footer_text_block_1 %}
      <div class="microsite-footer__block microsite-footer__text-block microsite-footer__text-block--1">
        {{ microsites.footer.items.lgms_footer_text_block_1 }}
      </div>
    {% endif %}
    {% if microsites.footer.items.lgms_footer_text_block_2 %}
      <div class="microsite-footer__block microsite-footer__text-block microsite-footer__text-block--2">
        {{ microsites.footer.items.lgms_footer_text_block_2 }}
      </div>
    {% endif %}
    {% if microsites.footer.items.lgms_footer_text_block_3 %}
      <div class="microsite-footer__block microsite-footer__text-block microsite-footer__text-block--3">
        {{ microsites.footer.items.lgms_footer_text_block_3 }}
      </div>
    {% endif %}
    {% if microsites.footer.items.lgms_footer_text_block_4 %}
      <div class="microsite-footer__block microsite-footer__text-block microsite-footer__text-block--4">
        {{ microsites.footer.items.lgms_footer_text_block_4 }}
      </div>
    {% endif %}
    {# End Footer text blocks #}
  </div>
{% endif %}

    {# Begin Footer Logos #}
    {% if microsites.footer.items.lgms_footer_logos %}
      <div class="w-full">
        <div class="microsite-footer__block microsite-footer__logos">
          {{ microsites.footer.items.lgms_footer_logos }}
        </div>
      </div>
    {% endif %}
    {# End Footer Logos #}

    {# Begin Footer Housekeeping Menu #}
    {% if has_footer_menu %}
      <div class="w-full">
        <div class="microsite-footer__block microsite-footer__housekeeping">
          {{ page.footer_menu }}
        </div>
      </div>
    {% endif %}
    {# End Footer Housekeeping Menu #}

    {# Begin Footer Copyright Notice #}
    {% if microsites.footer.items.lgms_footer_copyright_notice %}
      <div class="w-full">
        <div class="microsite-footer__block microsite-footer__copyright">
          {{ microsites.footer.items.lgms_footer_copyright_notice }}
        </div>
      </div>
    {% endif %}
    {# End Footer Copyright Notice #}

    {# Begin Footer Powered By #}
    {% if microsites.footer.items.lgms_powered_by %}
      <div class="w-full">
        <div class="microsite-footer__block microsite-footer__powered_by">
          {{ microsites.footer.items.lgms_powered_by }}
        </div>
      </div>
    {% endif %}
    {# End Footer Powered By #}
  </div>
{% if microsites.footer.width.full_width_content_contained %}
  </div>
{% endif %}
</div>
